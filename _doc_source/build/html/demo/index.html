<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Demos &mdash; CSD v0.0.3 alpha documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.3 alpha',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="CSD v0.0.3 alpha documentation" href="../index.html" />
    <link rel="next" title="Command-line Operations" href="../commandline.html" />
    <link rel="prev" title="The csd Package" href="../csd_sco_event.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="../commandline.html" title="Command-line Operations"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../csd_sco_event.html" title="The csd Package"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">CSD v0.0.3 alpha documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="demos">
<h1>Demos<a class="headerlink" href="#demos" title="Permalink to this headline">¶</a></h1>
<p>These are examples of what can be built with the score module.</p>
<p>Demo scripts are located in <tt class="docutils literal"><span class="pre">/demo/</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Demos have only been tested using Apple&#8217;s
Python 2.5.1.  Further testing will need to be done in other
versions of Python.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">These are to be considered unstable releases until they
are properly tested and bug checked.</p>
</div>
<div class="section" id="module-arpeggiator">
<h2>arpeggiator<a class="headerlink" href="#module-arpeggiator" title="Permalink to this headline">¶</a></h2>
<p>Arpeggiates values in for a selected pfield column for a specific
event.</p>
<p>This script can be used as command-line script as well as a
module.</p>
<p>Example:</p>
<div class="highlight-python"><pre>$ cat arpeggiator.sco | ./arpeggiator.py '7.00 7.03 6.09' i 1 5</pre>
</div>
<p>Before:</p>
<div class="highlight-python"><pre>i 1 0 0.25 0.3 7.00
i 1 + .    .   .
i 1 + .    .   .
i 1 + .    .   .
i 1 + .    .   .
i 1 + .    .   .
i 1 + .    .   .
i 1 + .    .   .</pre>
</div>
<p>After:</p>
<div class="highlight-python"><pre>i 1 0 0.25 0.3 7.00
i 1 + .    .   7.03
i 1 + .    .   6.09
i 1 + .    .   7.00
i 1 + .    .   7.03
i 1 + .    .   6.09
i 1 + .    .   7.00
i 1 + .    .   7.03</pre>
</div>
</div>
<div class="section" id="module-carry">
<h2>carry<a class="headerlink" href="#module-carry" title="Permalink to this headline">¶</a></h2>
<p>Replaces subsequent repeated values with a carry (.)</p>
<p>This script can be used as command-line script as well as a
module.</p>
<p>Example:</p>
<div class="highlight-python"><pre>$ cat carry.sco | ./carry.py | ./sco_align.py</pre>
</div>
<p>Before:</p>
<div class="highlight-python"><pre>i 1 0 0.25 0.5 7.00
i 1 + 0.25 0.5 7.00
i 1 + 0.25 0.5 8.00
i 1 + 0.25 0.5 8.00
i 1 + 0.25 0.6 7.06
i 1 + 0.25 0.6 7.06
i 1 + 0.25 0.6 6.06
i 1 + 0.25 0.6 6.06
i 1 + 0.25 0.6 7.00
i 1 + 0.25 0.6 7.00</pre>
</div>
<p>After:</p>
<div class="highlight-python"><pre>i 1 0 0.25 0.5 7.00
i 1 + .    .   .
i 1 + .    .   8.00
i 1 + .    .   .
i 1 + .    0.6 7.06
i 1 + .    .   .
i 1 + .    .   6.06
i 1 + .    .   .
i 1 + .    .   7.00
i 1 + .    .   .</pre>
</div>
<dl class="function">
<dt id="carry.replace">
<tt class="descclassname">carry.</tt><tt class="descname">replace</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#carry.replace" title="Permalink to this definition">¶</a></dt>
<dd>Replaces subsequent repeated values with a carry (.)</dd></dl>

</div>
<div class="section" id="module-pfunc">
<h2>pfunc<a class="headerlink" href="#module-pfunc" title="Permalink to this headline">¶</a></h2>
<p>Csound Score Calculator</p>
<p>This command-line tool allows easy, quick and efficient operations on
Csound score code.</p>
<p>Example Equations:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="mf">1.0</span>
<span class="n">x</span> <span class="o">*</span> <span class="n">x</span>
<span class="mf">1.0</span> <span class="o">-</span> <span class="n">x</span>
<span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">x</span> <span class="o">+</span> <span class="n">x</span> <span class="o">*</span> <span class="n">random</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.01259</span>
<span class="mf">7.00</span> <span class="o">+</span> <span class="n">choice</span><span class="p">([</span><span class="s">&#39;0.00&#39;</span><span class="p">,</span> <span class="s">&#39;0.03&#39;</span><span class="p">,</span> <span class="s">&#39;0.07&#39;</span><span class="p">,</span> <span class="s">&#39;0.11&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Command-line:</p>
<div class="highlight-python"><pre>$ cat pfunc.sco | ./pfunc.py '1.0 - x' i 1 4 
$ cat pfunc.sco | ./pfunc.py '1.0 - x' i 'range(1, 11)' 4
$ cat pfunc.sco | ./pfunc.py '1.0 - x' i 1 '[4, 5]' 
$ cat pfunc.sco | ./pfunc.py 'random()' i 1 4 0.1</pre>
</div>
<dl class="function">
<dt id="pfunc.fround">
<tt class="descclassname">pfunc.</tt><tt class="descname">fround</tt><big>(</big><em>x</em>, <em>n=8</em><big>)</big><a class="headerlink" href="#pfunc.fround" title="Permalink to this definition">¶</a></dt>
<dd>Return a float rounded to the nth decimal place.</dd></dl>

<dl class="function">
<dt id="pfunc.random">
<tt class="descclassname">pfunc.</tt><tt class="descname">random</tt><big>(</big><big>)</big><a class="headerlink" href="#pfunc.random" title="Permalink to this definition">¶</a></dt>
<dd>random() -&gt; x in the interval [0, 1).</dd></dl>

</div>
<div class="section" id="module-s_spacer">
<h2>s_spacer<a class="headerlink" href="#module-s_spacer" title="Permalink to this headline">¶</a></h2>
<p>Sets space between a statement and the first active element.</p>
<dl class="cmdoption">
<dt id="cmdoption-s_spacer-s">
<tt class="descname">-s</tt><tt class="descclassname">  Whitespace amount between statement and identifier</tt><a class="headerlink" href="#cmdoption-s_spacer-s" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Example:</p>
<div class="highlight-python"><pre>$ cat s_spacer.sco | ./s_spacer.py</pre>
</div>
<p>Before:</p>
<div class="highlight-python"><pre>i1 0 0.25 0.5 7.00
i1 + .    0.5 7.00
i1 + .    0.5 8.00
i1 + .    0.5 8.00
i1 + .    0.6 7.06
i1 + .    0.6 7.06
i1 + .    0.6 6.06
i1 + .    0.6 6.06
i1 + .    0.6 7.00
i1 + .    0.6 7.00</pre>
</div>
<p>After:</p>
<div class="highlight-python"><pre>i 1 0 0.25 0.5 7.00
i 1 + .    0.5 7.00
i 1 + .    0.5 8.00
i 1 + .    0.5 8.00
i 1 + .    0.6 7.06
i 1 + .    0.6 7.06
i 1 + .    0.6 6.06
i 1 + .    0.6 6.06
i 1 + .    0.6 7.00
i 1 + .    0.6 7.00</pre>
</div>
</div>
<div class="section" id="module-sco_align">
<h2>sco_align<a class="headerlink" href="#module-sco_align" title="Permalink to this headline">¶</a></h2>
<p>Auto-aligns groupings of i-events.</p>
<p>This script can be used as command-line script as well as a module.</p>
<dl class="cmdoption">
<dt id="cmdoption-sco_align-s">
<tt class="descname">-s</tt><tt class="descclassname">  Statement padding</tt><a class="headerlink" href="#cmdoption-sco_align-s" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-sco_align-p">
<tt class="descname">-p</tt><tt class="descclassname">  Pfield padding</tt><a class="headerlink" href="#cmdoption-sco_align-p" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-sco_align-c">
<tt class="descname">-c</tt><tt class="descclassname">  Comment padding</tt><a class="headerlink" href="#cmdoption-sco_align-c" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-sco_align-m">
<tt class="descname">-m</tt><tt class="descclassname">  Minimum pfield width</tt><a class="headerlink" href="#cmdoption-sco_align-m" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-sco_align-t">
<tt class="descname">-t</tt><tt class="descclassname">  Statement types. eg '-ti' aligns only i-events.</tt><a class="headerlink" href="#cmdoption-sco_align-t" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Example:</p>
<div class="highlight-python"><pre>$ cat sco_align.sco | ./sco_align.py</pre>
</div>
<p>Before:</p>
<div class="highlight-python"><pre>f1 0 8192 10 1 ; Sine
f2 0 8192 7 -1 4096 1 4096 -1; Triangle
f3 0 8192 7 1 8192 -1 ; Saw
f4 0 8192 7 1 4096 1 0 -1 4096 -1 ; Square 

i1 0 4 6.04 15000 2 100 81 50 56 20 1
i1 + . . . . 101 . . . . . 

i2 0 1 0.1 8.00 0.5 0.333333  ; Begin new section
i2 + &lt; [~ * 0.5 + 0.5] 5.01 . .  ; Expressions work
i2 + 0.44 .   (    ! ; Various score preprocessors
i9 0 26 "beats.wav" 4.114 ; A string
i$verb 32 6.2 0.28 ; Deep comment</pre>
</div>
<p>After:</p>
<div class="highlight-python"><pre>f 1 0 8192 10 1                           ; Sine
f 2 0 8192 7  -1 4096 1  4096 -1          ; Triangle
f 3 0 8192 7  1  8192 -1                  ; Saw
f 4 0 8192 7  1  4096 1  0    -1 4096 -1  ; Square 

i 1 0 4 6.04 15000 2 100 81 50 56 20 1
i 1 + . .    .     . 101 .  .  .  .  .

i 2     0  1    0.1             8.00  0.5 0.333333  ; Begin new section
i 2     +  &lt;    [~ * 0.5 + 0.5] 5.01  .   .         ; Expressions work
i 2     +  0.44 .               (     !             ; Various score preprocessors
i 9     0  26   "beats.wav"     4.114               ; A string
i $verb 32 6.2  0.28                                ; Deep comment</pre>
</div>
<dl class="function">
<dt id="sco_align.align">
<tt class="descclassname">sco_align.</tt><tt class="descname">align</tt><big>(</big><em>score</em>, <em>s=1</em>, <em>p=1</em>, <em>c=2</em>, <em>m=1</em>, <em>statements='fi'</em><big>)</big><a class="headerlink" href="#sco_align.align" title="Permalink to this definition">¶</a></dt>
<dd><p>Auto-aligns groupings of i-events.</p>
<p>A grouping is a block of sequential events of the same statement
type.</p>
</dd></dl>

</div>
<div class="section" id="module-score_from_csd">
<h2>score_from_csd<a class="headerlink" href="#module-score_from_csd" title="Permalink to this headline">¶</a></h2>
<p>Extracts a score from a Csound csd file.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This module currently prepends a newline to the beginning
of the score.</p>
</div>
<p>Example:</p>
<div class="highlight-python"><pre>$ cat score_from_csd.csd | ./score_from_csd.py</pre>
</div>
<p>Before:</p>
<div class="highlight-python"><pre>&lt;CsoundSynthesizer&gt;
&lt;CsInstruments&gt;
sr     = 44100
kr     = 4410
ksmps  = 10
nchnls = 1

0dbfs = 1.0

instr 1
    iamp = p4
    ipitch = cpspch(p5)
    itable = p6
    
    asig oscil iamp, ipitch, itable, -1
    out asig
endin
    
&lt;/CsInstruments&gt;
&lt;CsScore&gt;
f 1 0 8192 10 1  ; Sinewave

i 1 0 0.125 1 8.00 1
i 1 + .     . 8.07 .
i 1 + .     . 8.04 .
i 1 + .     . 8.00 .
i 1 + .     . 8.07 .
i 1 + .     . 8.04 .
i 1 + .     . 8.00 .
i 1 + .     . 8.07 .
i 1 + .     . 8.04 .
i 1 + .     . 8.00 .
i 1 + .     . 8.07 .
i 1 + .     . 8.04 .
i 1 + .     . 8.00 .
i 1 + .     . 8.07 .
i 1 + .     . 8.04 .
i 1 + .     . 8.00 .

e
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer&gt;</pre>
</div>
<p>After:</p>
<div class="highlight-python"><pre>f 1 0 8192 10 1  ; Sinewave

i 1 0 0.125 1 8.00 1
i 1 + .     . 8.07 .
i 1 + .     . 8.04 .
i 1 + .     . 8.00 .
i 1 + .     . 8.07 .
i 1 + .     . 8.04 .
i 1 + .     . 8.00 .
i 1 + .     . 8.07 .
i 1 + .     . 8.04 .
i 1 + .     . 8.00 .
i 1 + .     . 8.07 .
i 1 + .     . 8.04 .
i 1 + .     . 8.00 .
i 1 + .     . 8.07 .
i 1 + .     . 8.04 .
i 1 + .     . 8.00 .

e</pre>
</div>
</div>
<div class="section" id="module-swap_columns">
<h2>swap_columns<a class="headerlink" href="#module-swap_columns" title="Permalink to this headline">¶</a></h2>
<p>Exchanges all score columns for a specified statement and
identifier.</p>
<dl class="cmdoption">
<dt id="cmdoption-swap_columns-s">
<tt class="descname">-s</tt><tt class="descclassname">  Statement (required)</tt><a class="headerlink" href="#cmdoption-swap_columns-s" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-swap_columns-i">
<tt class="descname">-i</tt><tt class="descclassname">  Identifier (required)</tt><a class="headerlink" href="#cmdoption-swap_columns-i" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-swap_columns-a">
<tt class="descname">-a</tt><tt class="descclassname">  Pfield A (required)</tt><a class="headerlink" href="#cmdoption-swap_columns-a" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-swap_columns-b">
<tt class="descname">-b</tt><tt class="descclassname">  Pfield B (required)</tt><a class="headerlink" href="#cmdoption-swap_columns-b" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The following command-line swaps pfields 4 and 5 for all instrument
1 events:</p>
<div class="highlight-python"><pre>$ cat swap_columns.sco | ./swap_columns.py -si -i1 -a4 -b5</pre>
</div>
<p>Before:</p>
<div class="highlight-python"><pre>i 1 0 1 7.00 0.8
i 1 + . 7.02 0.8
i 1 + . 7.04 1.0
i 1 + . 7.05 0.8</pre>
</div>
<p>After:</p>
<div class="highlight-python"><pre>i 1 0 1 0.8 7.00
i 1 + . 0.8 7.02
i 1 + . 1.0 7.04
i 1 + . 0.8 7.05</pre>
</div>
</div>
<div class="section" id="module-swap_pan_position">
<h2>swap_pan_position<a class="headerlink" href="#module-swap_pan_position" title="Permalink to this headline">¶</a></h2>
<p>An example that demonstrates how a script can operate a custom
python function for every pfield in a column for a select group of
events from a score used the map_() function.</p>
<p>Here&#8217;s the scenario.  You&#8217;ve listened to your piece and have decided
that the panning in instrument 2 would sound better if the left and
right channels were swapped.  How could you do this with CSD?</p>
<ol class="arabic simple">
<li>Define a pfunction, swap_pan_position()</li>
<li>Define a pattern to select instrument 2 events.</li>
<li>Choose which pfield column to operate on.</li>
<li>Run selected pfield data through swap_pan_position() with map_()</li>
</ol>
<p>The code:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">swap_pan_position</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="mf">1.0</span> <span class="o">-</span> <span class="n">x</span>

<span class="n">new_score</span> <span class="o">=</span> <span class="n">sco</span><span class="o">.</span><span class="n">map_</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="p">{</span><span class="mf">0</span><span class="p">:</span> <span class="s">&#39;i&#39;</span><span class="p">,</span> <span class="mf">1</span><span class="p">:</span> <span class="mf">2</span><span class="p">},</span> <span class="mf">6</span><span class="p">,</span> <span class="n">swap_pan_position</span><span class="p">)</span>
</pre></div>
</div>
<p>The original score compared with the modified score:</p>
<div class="highlight-python"><pre>__original score__
f 1 0 8192 10 1

i 1 0 4 1.0 440 0.9
i 1 + . 0.7 .   0.25

i 2 0 4 1.0 880 1.0    ; p6 is pan
i 2 + . .   .   0.25
i 2 + . .   .   0.999
i 2 + . .   .   0.0

__modified score__
f 1 0 8192 10 1

i 1 0 4 1.0 440 0.9
i 1 + . 0.7 .   0.25

i 2 0 4 1.0 880 0.0    ; p6 is pan
i 2 + . .   .   0.75
i 2 + . .   .   0.001
i 2 + . .   .   1.0</pre>
</div>
<p>Now imagine applying this technique to dozens, or even hundreds of
events.  Be sure to follow the links below, as each will help explain
each of the components in further detail. (assuming you are reading
from the CSD manual)</p>
<blockquote>
<p><a class="reference external" href="../glossary.html#term-pattern"><em class="xref">pattern</em></a>, <a class="reference external" href="../glossary.html#term-pfunction"><em class="xref">pfunction</em></a>, <a class="reference external" href="../glossary.html#term-selection"><em class="xref">selection</em></a>,
<a class="reference external" href="../glossary.html#term-score"><em class="xref">score</em></a></p>
<p><a title="csd.sco.merge" class="reference external" href="../csd_sco_event.html#csd.sco.merge"><tt class="xref docutils literal"><span class="pre">csd.sco.merge()</span></tt></a>, <a title="csd.sco.selection.operate_numeric" class="reference external" href="../csd_sco_event.html#csd.sco.selection.operate_numeric"><tt class="xref docutils literal"><span class="pre">csd.sco.selection.operate_numeric()</span></tt></a>,
<a title="csd.sco.select" class="reference external" href="../csd_sco_event.html#csd.sco.select"><tt class="xref docutils literal"><span class="pre">csd.sco.select()</span></tt></a></p>
</blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">Demos</a><ul>
<li><a class="reference external" href="#module-arpeggiator">arpeggiator</a></li>
<li><a class="reference external" href="#module-carry">carry</a></li>
<li><a class="reference external" href="#module-pfunc">pfunc</a></li>
<li><a class="reference external" href="#module-s_spacer">s_spacer</a></li>
<li><a class="reference external" href="#module-sco_align">sco_align</a></li>
<li><a class="reference external" href="#module-score_from_csd">score_from_csd</a></li>
<li><a class="reference external" href="#module-swap_columns">swap_columns</a></li>
<li><a class="reference external" href="#module-swap_pan_position">swap_pan_position</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="../csd_sco_event.html"
                                  title="previous chapter">The csd Package</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="../commandline.html"
                                  title="next chapter">Command-line Operations</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/demo/index.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../commandline.html" title="Command-line Operations"
             >next</a> |</li>
        <li class="right" >
          <a href="../csd_sco_event.html" title="The csd Package"
             >previous</a> |</li>
        <li><a href="../index.html">CSD v0.0.3 alpha documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009, Jacob Joaquin.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.2.
    </div>
  </body>
</html>