<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Demos &mdash; csd v0.0.4 alpha documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.4 alpha',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="csd v0.0.4 alpha documentation" href="../index.html" />
    <link rel="next" title="Command-line Operations" href="../commandline.html" />
    <link rel="prev" title="The csd Package" href="../csd_sco_event.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="../commandline.html" title="Command-line Operations"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../csd_sco_event.html" title="The csd Package"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">csd v0.0.4 alpha documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="demos">
<h1>Demos<a class="headerlink" href="#demos" title="Permalink to this headline">¶</a></h1>
<p>These are examples of what can be built with the score module.</p>
<p>Demo scripts are located in <tt class="docutils literal"><span class="pre">demo/</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Demos have only been tested using Apple&#8217;s
Python 2.5.1.  Further testing will need to be done in other
versions of Python.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">These are to be considered unstable releases until they
are properly tested and bug checked.</p>
</div>
<div class="section" id="module-arpeggiator">
<h2>arpeggiator<a class="headerlink" href="#module-arpeggiator" title="Permalink to this headline">¶</a></h2>
<p>Arpeggiates values in for a selected pfield column for a specific
event.</p>
<p>Use:</p>
<div class="highlight-python"><pre>&lt;stdout&gt; | ./arpeggiator.py STATEMENT INSTR PFIELD VALUES</pre>
</div>
<p>Example:</p>
<div class="highlight-python"><pre>cat arpeggiator.sco | ./arpeggiator.py i 1 5 '7.00 7.03 6.09'</pre>
</div>
<p>Before:</p>
<div class="highlight-python"><pre>i 1 0 0.25 0.3 7.00
i 1 + .    .   .
i 1 + .    .   .
i 1 + .    .   .
i 1 + .    .   .
i 1 + .    .   .
i 1 + .    .   .
i 1 + .    .   .</pre>
</div>
<p>After:</p>
<div class="highlight-python"><pre>i 1 0 0.25 0.3 7.00
i 1 + .    .   7.03
i 1 + .    .   6.09
i 1 + .    .   7.00
i 1 + .    .   7.03
i 1 + .    .   6.09
i 1 + .    .   7.00
i 1 + .    .   7.03</pre>
</div>
</div>
<div class="section" id="module-carry">
<h2>carry<a class="headerlink" href="#module-carry" title="Permalink to this headline">¶</a></h2>
<p>Replaces subsequent repeated values with a carry (.)</p>
<p>Use:</p>
<div class="highlight-python"><pre>&lt;stdout&gt; | ./carry.py</pre>
</div>
<p>Example:</p>
<div class="highlight-python"><pre>cat carry.sco | ./carry.py | ./sco_align.py</pre>
</div>
<p>Before:</p>
<div class="highlight-python"><pre>i 1 0 0.25 0.5 7.00
i 1 + 0.25 0.5 7.00
i 1 + 0.25 0.5 8.00
i 1 + 0.25 0.5 8.00
i 1 + 0.25 0.6 7.06
i 1 + 0.25 0.6 7.06
i 1 + 0.25 0.6 6.06
i 1 + 0.25 0.6 6.06
i 1 + 0.25 0.6 7.00
i 1 + 0.25 0.6 7.00</pre>
</div>
<p>After:</p>
<div class="highlight-python"><pre>i 1 0 0.25 0.5 7.00
i 1 + .    .   .
i 1 + .    .   8.00
i 1 + .    .   .
i 1 + .    0.6 7.06
i 1 + .    .   .
i 1 + .    .   6.06
i 1 + .    .   .
i 1 + .    .   7.00
i 1 + .    .   .</pre>
</div>
<dl class="function">
<dt id="carry.replace">
<tt class="descclassname">carry.</tt><tt class="descname">replace</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#carry.replace" title="Permalink to this definition">¶</a></dt>
<dd>Replaces subsequent repeated values with a carry (.)</dd></dl>

</div>
<div class="section" id="module-pfunc">
<h2>pfunc<a class="headerlink" href="#module-pfunc" title="Permalink to this headline">¶</a></h2>
<p><strong>Csound Pfield Calculator</strong></p>
<p>This command-line tool allows easy, quick and efficient operations on
Csound score code.  The scripts comes equipped with dozens of functions
imported from Python Libraries math and random.  For a full reference
of supported functions, look at the import statements in
<tt class="docutils literal"><span class="pre">demo/pfunc.py</span></tt>.</p>
<p><strong>How it works</strong></p>
<p>pfunc operates on Csound score code piped into the script, requiring
four arguments: <em>statement</em>, <em>instrument</em>, <em>pfield_index</em>, <em>pfunction</em>:</p>
<div class="highlight-python"><pre>&lt;stdout&gt; | ./pfunc.py STATEMENT INSTR PFIELD FUNCTION</pre>
</div>
<p>To use the existing pfield value, use the variable x in the function.
Non-numeric pfield data types, i.e. carry, expression, etc, are
ignored by pfunc, and will be preserved.</p>
<p>The following example applies the function <tt class="docutils literal"><span class="pre">'1.0</span> <span class="pre">-</span> <span class="pre">x'</span></tt> to every
pfield 6 for all instrument 1 events:</p>
<div class="highlight-python"><pre>cat pfunc.sco | ./pfunc.py i 1 6 '1.0 - x'</pre>
</div>
<p>Before:</p>
<div class="highlight-python"><pre>f 1 0 8192 10 1

i 1 0 0.25 0.5 7.00 1.0    # p6 is pan
i 1 + 0.25 0.5 7.00 0.5
i 1 + 0.25 0.5 8.00 0.222
i 1 + 0.25 0.5 8.00 0.1

i 2 + 0.25 0.6 7.06 1.0
i 2 + 0.25 0.6 7.06 0.5
i 2 + 0.25 0.6 6.06 0.222
i 2 + 0.25 0.6 6.06 0.1</pre>
</div>
<p>After:</p>
<div class="highlight-python"><pre>f 1 0 8192 10 1

i 1 0 0.25 0.5 7.00 0.0    # p6 is pan
i 1 + 0.25 0.5 7.00 0.5
i 1 + 0.25 0.5 8.00 0.778
i 1 + 0.25 0.5 8.00 0.9

i 2 + 0.25 0.6 7.06 1.0
i 2 + 0.25 0.6 7.06 0.5
i 2 + 0.25 0.6 6.06 0.222
i 2 + 0.25 0.6 6.06 0.1</pre>
</div>
<p>Multiple statements, instruments and pfields may be passed in as
arguments.  For statements, type in all characters without white space,
e.g. <tt class="docutils literal"><span class="pre">if</span></tt>.  For instruments and pfields, there are two approaches
(maybe more).  The manual method is to create a quoted python list. e.g.
<tt class="docutils literal"><span class="pre">'[1,</span> <span class="pre">2,</span> <span class="pre">3]'</span></tt>.  For integer sequences, you can use a quote python
range function e.g. <tt class="docutils literal"><span class="pre">'range(1,</span> <span class="pre">10)'</span></tt> includes numberes 1 through 9.</p>
<p>Instruments 1 through 10, pfield 4:</p>
<div class="highlight-python"><pre>./pfunc.py i 'range(1, 11)' 4 'x'   </pre>
</div>
<p>Instrument 1, pfields 4 and 5:</p>
<div class="highlight-python"><pre>./pfunc.py i 1 '[4, 5]' 'x'</pre>
</div>
<p>F-tables and instruments 1 through 999, pfields 1 through 999:</p>
<div class="highlight-python"><pre>./pfunc.py if 'range(1, 1000)' 'range(1, 1000)' 'x'</pre>
</div>
<p>Function examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="mf">1.0</span>
<span class="n">x</span> <span class="o">*</span> <span class="n">x</span>
<span class="mf">1.0</span> <span class="o">-</span> <span class="n">x</span>
<span class="n">x</span> <span class="o">/</span> <span class="mf">32768.0</span>
<span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">x</span> <span class="o">+</span> <span class="n">x</span> <span class="o">*</span> <span class="n">random</span><span class="p">()</span> <span class="o">*</span> <span class="nb">pow</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">1</span> <span class="o">/</span> <span class="mf">12</span><span class="p">)</span>
<span class="mf">7.00</span> <span class="o">+</span> <span class="n">choice</span><span class="p">([</span><span class="s">&#39;0.00&#39;</span><span class="p">,</span> <span class="s">&#39;0.03&#39;</span><span class="p">,</span> <span class="s">&#39;0.07&#39;</span><span class="p">,</span> <span class="s">&#39;0.11&#39;</span><span class="p">])</span>
<span class="n">pi</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The name <strong>pfunc</strong> is derived from <strong>pfield function</strong>, and
is not at all a reference to George Clinton and the Parliament
Funkadelic (P-Funk).  <em>Or is it?</em></p>
</div>
</div>
<div class="section" id="module-s_spacer">
<h2>s_spacer<a class="headerlink" href="#module-s_spacer" title="Permalink to this headline">¶</a></h2>
<p>Sets space between a statement and the first active element.</p>
<dl class="cmdoption">
<dt id="cmdoption-s_spacer-s">
<tt class="descname">-s</tt><tt class="descclassname">  Whitespace amount between statement and identifier</tt><a class="headerlink" href="#cmdoption-s_spacer-s" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Use:</p>
<div class="highlight-python"><pre>&lt;stdout&gt; | ./s_spacer.py [-s number of spaces]</pre>
</div>
<p>Example:</p>
<div class="highlight-python"><pre>cat s_spacer.sco | ./s_spacer.py</pre>
</div>
<p>Before:</p>
<div class="highlight-python"><pre>i1 0 0.25 0.5 7.00
i1 + .    0.5 7.00
i1 + .    0.5 8.00
i1 + .    0.5 8.00
i1 + .    0.6 7.06
i1 + .    0.6 7.06
i1 + .    0.6 6.06
i1 + .    0.6 6.06
i1 + .    0.6 7.00
i1 + .    0.6 7.00</pre>
</div>
<p>After:</p>
<div class="highlight-python"><pre>i 1 0 0.25 0.5 7.00
i 1 + .    0.5 7.00
i 1 + .    0.5 8.00
i 1 + .    0.5 8.00
i 1 + .    0.6 7.06
i 1 + .    0.6 7.06
i 1 + .    0.6 6.06
i 1 + .    0.6 6.06
i 1 + .    0.6 7.00
i 1 + .    0.6 7.00</pre>
</div>
</div>
<div class="section" id="module-sco_align">
<h2>sco_align<a class="headerlink" href="#module-sco_align" title="Permalink to this headline">¶</a></h2>
<p>Auto-aligns groupings of i-events.</p>
<p>This script can be used as command-line script as well as a module.</p>
<dl class="cmdoption">
<dt id="cmdoption-sco_align-s">
<tt class="descname">-s</tt><tt class="descclassname">  Statement padding</tt><a class="headerlink" href="#cmdoption-sco_align-s" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-sco_align-p">
<tt class="descname">-p</tt><tt class="descclassname">  Pfield padding</tt><a class="headerlink" href="#cmdoption-sco_align-p" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-sco_align-c">
<tt class="descname">-c</tt><tt class="descclassname">  Comment padding</tt><a class="headerlink" href="#cmdoption-sco_align-c" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-sco_align-m">
<tt class="descname">-m</tt><tt class="descclassname">  Minimum pfield width</tt><a class="headerlink" href="#cmdoption-sco_align-m" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-sco_align-t">
<tt class="descname">-t</tt><tt class="descclassname">  Statement types. eg '-ti' aligns only i-events.</tt><a class="headerlink" href="#cmdoption-sco_align-t" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Example:</p>
<div class="highlight-python"><pre>cat sco_align.sco | ./sco_align.py</pre>
</div>
<p>Before:</p>
<div class="highlight-python"><pre>f1 0 8192 10 1 ; Sine
f2 0 8192 7 -1 4096 1 4096 -1; Triangle
f3 0 8192 7 1 8192 -1 ; Saw
f4 0 8192 7 1 4096 1 0 -1 4096 -1 ; Square 

i1 0 4 6.04 15000 2 100 81 50 56 20 1
i1 + . . . . 101 . . . . . 

i2 0 1 0.1 8.00 0.5 0.333333  ; Begin new section
i2 + &lt; [~ * 0.5 + 0.5] 5.01 . .  ; Expressions work
i2 + 0.44 .   (    ! ; Various score preprocessors
i9 0 26 "beats.wav" 4.114 ; A string
i$verb 32 6.2 0.28 ; Deep comment</pre>
</div>
<p>After:</p>
<div class="highlight-python"><pre>f 1 0 8192 10 1                           ; Sine
f 2 0 8192 7  -1 4096 1  4096 -1          ; Triangle
f 3 0 8192 7  1  8192 -1                  ; Saw
f 4 0 8192 7  1  4096 1  0    -1 4096 -1  ; Square 

i 1 0 4 6.04 15000 2 100 81 50 56 20 1
i 1 + . .    .     . 101 .  .  .  .  .

i 2     0  1    0.1             8.00  0.5 0.333333  ; Begin new section
i 2     +  &lt;    [~ * 0.5 + 0.5] 5.01  .   .         ; Expressions work
i 2     +  0.44 .               (     !             ; Various score preprocessors
i 9     0  26   "beats.wav"     4.114               ; A string
i $verb 32 6.2  0.28                                ; Deep comment</pre>
</div>
<dl class="function">
<dt id="sco_align.align">
<tt class="descclassname">sco_align.</tt><tt class="descname">align</tt><big>(</big><em>score</em>, <em>s=1</em>, <em>p=1</em>, <em>c=2</em>, <em>m=1</em>, <em>statements='fi'</em><big>)</big><a class="headerlink" href="#sco_align.align" title="Permalink to this definition">¶</a></dt>
<dd><p>Auto-aligns groupings of i-events.</p>
<p>A grouping is a block of sequential events of the same statement
type.</p>
</dd></dl>

</div>
<div class="section" id="module-score_from_csd">
<h2>score_from_csd<a class="headerlink" href="#module-score_from_csd" title="Permalink to this headline">¶</a></h2>
<p>Extracts a score from a Csound csd file.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This module currently prepends a newline to the beginning
of the score.</p>
</div>
<p>Example:</p>
<div class="highlight-python"><pre>cat score_from_csd.csd | ./score_from_csd.py</pre>
</div>
<p>Before:</p>
<div class="highlight-python"><pre>&lt;CsoundSynthesizer&gt;
&lt;CsInstruments&gt;
sr     = 44100
kr     = 4410
ksmps  = 10
nchnls = 1

0dbfs = 1.0

instr 1
    iamp = p4
    ipitch = cpspch(p5)
    itable = p6
    
    asig oscil iamp, ipitch, itable, -1
    out asig
endin
    
&lt;/CsInstruments&gt;
&lt;CsScore&gt;
f 1 0 8192 10 1  ; Sinewave

i 1 0 0.125 1 8.00 1
i 1 + .     . 8.07 .
i 1 + .     . 8.04 .
i 1 + .     . 8.00 .
i 1 + .     . 8.07 .
i 1 + .     . 8.04 .
i 1 + .     . 8.00 .
i 1 + .     . 8.07 .
i 1 + .     . 8.04 .
i 1 + .     . 8.00 .
i 1 + .     . 8.07 .
i 1 + .     . 8.04 .
i 1 + .     . 8.00 .
i 1 + .     . 8.07 .
i 1 + .     . 8.04 .
i 1 + .     . 8.00 .

e
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer&gt;</pre>
</div>
<p>After:</p>
<div class="highlight-python"><pre>f 1 0 8192 10 1  ; Sinewave

i 1 0 0.125 1 8.00 1
i 1 + .     . 8.07 .
i 1 + .     . 8.04 .
i 1 + .     . 8.00 .
i 1 + .     . 8.07 .
i 1 + .     . 8.04 .
i 1 + .     . 8.00 .
i 1 + .     . 8.07 .
i 1 + .     . 8.04 .
i 1 + .     . 8.00 .
i 1 + .     . 8.07 .
i 1 + .     . 8.04 .
i 1 + .     . 8.00 .
i 1 + .     . 8.07 .
i 1 + .     . 8.04 .
i 1 + .     . 8.00 .

e</pre>
</div>
</div>
<div class="section" id="module-swap_columns">
<h2>swap_columns<a class="headerlink" href="#module-swap_columns" title="Permalink to this headline">¶</a></h2>
<p>Exchanges all score columns for a specified statement and
identifier.</p>
<p>Use:</p>
<div class="highlight-python"><pre>&lt;stdout&gt; | ./swap_columns.py STATEMENT INSTR PFIELD_A PFIELD_B</pre>
</div>
<p>The following command-line swaps pfields 4 and 5 for all instrument
1 events:</p>
<div class="highlight-python"><pre>cat swap_columns.sco | ./swap_columns.py i 1 4 5</pre>
</div>
<p>Before:</p>
<div class="highlight-python"><pre>i 1 0 1 7.00 0.8
i 1 + . 7.02 0.8
i 1 + . 7.04 1.0
i 1 + . 7.05 0.8</pre>
</div>
<p>After:</p>
<div class="highlight-python"><pre>i 1 0 1 0.8 7.00
i 1 + . 0.8 7.02
i 1 + . 1.0 7.04
i 1 + . 0.8 7.05</pre>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">Demos</a><ul>
<li><a class="reference external" href="#module-arpeggiator">arpeggiator</a></li>
<li><a class="reference external" href="#module-carry">carry</a></li>
<li><a class="reference external" href="#module-pfunc">pfunc</a></li>
<li><a class="reference external" href="#module-s_spacer">s_spacer</a></li>
<li><a class="reference external" href="#module-sco_align">sco_align</a></li>
<li><a class="reference external" href="#module-score_from_csd">score_from_csd</a></li>
<li><a class="reference external" href="#module-swap_columns">swap_columns</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="../csd_sco_event.html"
                                  title="previous chapter">The csd Package</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="../commandline.html"
                                  title="next chapter">Command-line Operations</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/demo/index.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../commandline.html" title="Command-line Operations"
             >next</a> |</li>
        <li class="right" >
          <a href="../csd_sco_event.html" title="The csd Package"
             >previous</a> |</li>
        <li><a href="../index.html">csd v0.0.4 alpha documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009, Jacob Joaquin.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.2.
    </div>
  </body>
</html>